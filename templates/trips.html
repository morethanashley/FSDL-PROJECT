{% extends "base.html" %}

{% block title %}Available Trips{% endblock %}

{% block content %}
<div class="trips-container">
    <div class="trips-header">
        <h1>Available Trips</h1>
        <button class="create-trip-btn" onclick="showCreateTripModal()">Create Trip</button>
    </div>

    <div id="trips-list" class="trips-grid">
        <!-- Trips will be loaded here dynamically -->
    </div>
</div>

<!-- Create Trip Modal -->
<div id="create-trip-modal" class="modal">
    <div class="modal-content">
        <h2>Create New Trip</h2>
        <form id="create-trip-form" onsubmit="handleCreateTrip(event)">
            <div class="form-group">
                <label for="start_location">Start Location</label>
                <input type="text" id="start_location" name="start_location" required>
            </div>
            
            <div class="form-group">
                <label for="end_location">End Location</label>
                <input type="text" id="end_location" name="end_location" required>
            </div>
            
            <div class="form-group">
                <label for="departure_time">Departure Time</label>
                <input type="datetime-local" id="departure_time" name="departure_time" required>
            </div>
            
            <div class="form-group">
                <label for="arrival_time">Arrival Time</label>
                <input type="datetime-local" id="arrival_time" name="arrival_time" required>
            </div>
            
            <div class="form-group">
                <label for="available_seats">Available Seats</label>
                <input type="number" id="available_seats" name="available_seats" min="1" max="8" required>
            </div>
            
            <div class="form-actions">
                <button type="button" onclick="hideCreateTripModal()">Cancel</button>
                <button type="submit">Create Trip</button>
            </div>
        </form>
    </div>
</div>

<script src="{{ url_for('static', filename='script.js') }}"></script>
<script>
    // Load trips when the page loads
    document.addEventListener('DOMContentLoaded', function() {
        loadTrips();
    });
</script>
{% endblock %} 